<div class="container">
  <!-- container -->
  <mat-card class="cardprincipal">
    <!-- Layout - Card -->
    <mat-card-title>Avaliação</mat-card-title>
    <form [formGroup]="firstFormGroup" class="form">

      <mat-form-field class="full-width">
        <!-- Título //-->
        <input matInput placeholder="Título" formControlName="titulo" required>
      </mat-form-field> <!-- Título //-->

      <div>
        <mat-form-field class="width-10">
          <!-- Período -->
          <input matInput placeholder="Período" formControlName="periodo" required>
        </mat-form-field> <!-- Período a -->

        <label class="slide-toggle">
          <!-- Status Ativado -->
          <mat-slide-toggle formControlName="ativo" class="margin">Ativo</mat-slide-toggle>
        </label>

        <label class="slide-toggle">
          <!-- Status Terminado -->
          <mat-slide-toggle formControlName="terminado" class="margin">Terminado</mat-slide-toggle>
        </label>
      </div>

      <mat-form-field class="full-width">
        <!-- Observação -->
        <textarea matInput placeholder="Observações" formControlName="observacao" required> </textarea>
      </mat-form-field> <!-- Observação --> <br /><br />

      <div>
        <label>Público Alvo</label> <!-- Público Alvo -->
        <mat-selection-list matInput #publicos formControlName="publico_alvo">
          <mat-list-option *ngFor="let publico of tipoPublicos" [value]="publico.value">
            {{publico.viewValue}}
          </mat-list-option>
        </mat-selection-list> <!-- Público Alvo -->
      </div>

      <mat-form-field>
        <!-- Data Limite -->
        <input matInput placeholder="Data Limite" formControlName="data_limite" [matDatepicker]="picker2" required>
        <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
        <mat-datepicker #picker2></mat-datepicker>
      </mat-form-field> <!-- Data Limite -->

      <mat-card-actions>
        <button mat-button type="submit">Finalizar</button>
      </mat-card-actions>
    </form>
  </mat-card> <!-- Layout - Card -->

  <!--
-----------------------------------------------------------------------------
var mongoose = require('mongoose');
var Schema   = mongoose.Schema;
var Questionario = require('./QuestionarioModel');

var AvaliacaoSchema = new Schema({
  'periodo' : Number,
  'questionarios' : [ Questionario.schema ],
  'ativo' : Boolean,
  'terminado' : Boolean,
  'data_ativacao' : Date,
  'data_limite' : Date,
  'public_alvo' : [ Number ],
  'titulo' : String,
  'observacao' : String,
  'participantes': [{ 
    'participante': Schema.Types.ObjectId, 'tipo_participante': Number }],
});

module.exports = mongoose.model('Avaliacao', AvaliacaoSchema);

-----------------------------------------------------------------------------
-->


  <mat-card class="cardprincipal">
    <!-- Layout - Card -->
    <mat-card-title>Questionários</mat-card-title>
    <form [formGroup]="orderForm" class="form">

      <mat-form-field class="full-width">
        <!-- Tópico // -->
        <input matInput placeholder="Tópico" formControlName="topico" required>
      </mat-form-field> <!-- Tópico // --><br /><br />

      <div>
        <label>Público Alvo</label> <!-- Público Alvo -->
        <mat-selection-list matInput #publicos formControlName="publico_alvo">
          <mat-list-option *ngFor="let publico of tipoPublicos" [value]="publico.value">
            {{publico.viewValue}}
          </mat-list-option>
        </mat-selection-list>
      </div><!-- Público Alvo --><br />

      <div>
        <!-- Típo de resposta -->
        <label id="radio-group-label">Escolha o típo de resposta desejado</label>
        <mat-radio-group aria-labelledby="example-radio-group-label" class="radio-group"
          formControlName="tipo_resposta">
          <mat-radio-button class="radio-button" *ngFor="let tpresposta of tipoRespostas" [value]="tpresposta.value">
            {{tpresposta.viewValue}}
          </mat-radio-button>
        </mat-radio-group>
      </div><!-- Típo de resposta -->

      <!--  Possiveis respostas -->
      <mat-accordion *ngIf="this.orderForm.value.tipo_resposta == '0'">
        <!--Expansion Panel -->
        <mat-expansion-panel>
          <!--Expansion Panel -->
          <mat-expansion-panel-header>
            <mat-panel-title>
              Possiveis Respostas
            </mat-panel-title>
          </mat-expansion-panel-header>
          <div *ngFor="let item of orderForm.get('valResp').controls; let i = index;">
            <div formArrayName="valResp">
              <div [formGroupName]="i">
                <mat-form-field>
                  <!-- labels_respostas -->
                  <input matInput placeholder="Descrição" formControlName="labels_respostas">
                </mat-form-field> <!-- Possiveis respostas -->
                <mat-form-field class="slide-toggle">
                  <!-- Valor de Reposta // -->
                  <input matInput placeholder="Valor/Reposta" formControlName="possiveis_respostas">
                </mat-form-field> <!-- Valor de Reposta // -->
                <button mat-mini-fab type="submit" (click)="addValResp()">
                  <mat-icon aria-label="Example icon-button with a add icon">add</mat-icon>
                </button>
              </div>
            </div>
          </div>
        </mat-expansion-panel>
        <!--Expansion Panel -->
      </mat-accordion>
      <br />

      <label>
        <!-- Por disciplina -->
        <mat-slide-toggle formControlName="por_disciplina" class="margin">Por disciplina</mat-slide-toggle>
      </label> <!-- Por disciplina -->

      <br /><br />

      <!--  Possiveis Questão -->
      <mat-accordion *ngIf="this.orderForm.value.por_disciplina == '0'">
        <!--Expansion Panel -->
        <mat-expansion-panel>
          <!--Expansion Panel -->
          <mat-expansion-panel-header>
            <mat-panel-title>
              Questões
            </mat-panel-title>
          </mat-expansion-panel-header>
          <div *ngFor="let item of orderForm.get('valQuest').controls; let i = index;">
            <div formArrayName="valQuest">
              <div [formGroupName]="i">
                <mat-form-field class="full-width">
                  <!-- Questão // -->
                  <input matInput placeholder="Questão" formControlName="questoes">
                </mat-form-field>
                <button mat-mini-fab type="submit" (click)="addQuest()">
                  <mat-icon aria-label="Example icon-button with a add icon">add</mat-icon>
                </button>
              </div>
            </div>
          </div>
        </mat-expansion-panel>
        <!--Expansion Panel -->
      </mat-accordion>

      <mat-card-actions>
        <button mat-button type="submit">Salvar</button>
      </mat-card-actions>
    </form>
  </mat-card>

  <div class="cardprincipal">
    <form [formGroup]="orderForm">
      <!--<mat-card *ngFor="let item of orderForm.get('items').controls; let i = index;" class="padding1">
        <div>
          <div>
            Tópico:<h1>{{ orderForm.controls.topico.value }}</h1>
          </div>


          <div formArrayName="items">
            <div [formGroupName]="i">
              <mat-form-field class="full-width">
                
                <input matInput placeholder="Questão" formControlName="questoes" required>
              </mat-form-field>
            </div>
          </div>

        </div>
      </mat-card>-->
    </form>
  </div>
</div><!-- container -->
<!--
-----------------------------------------------------------------------------

var mongoose = require('mongoose');
var Schema   = mongoose.Schema;
var Questao  = require('./QuestaoModel.js');

var QuestionarioSchema = new Schema({
  'topico' : String,
  'publico_alvo' : Number,
  'por_disciplina': Boolean,
  'tipo_resposta' : Number,
  'questoes': [ Questao.schema ],
  'possiveis_respostas': [ Schema.Types.Mixed ],
  'labels_respostas': [ String ],
});

module.exports = mongoose.model('Questionario', QuestionarioSchema);

-----------------------------------------------------------------------------
-->