<mat-card class="cardprincipal"> <!-- Layout - Card -->
    <!--<form [formGroup]="service.form" class="normal-form"> -->
      <mat-grid-list cols="1" rowHeight="400px"> <!-- Layout - Grid List -->
        <mat-grid-tile>
        <div class="padding5">            
          <mat-horizontal-stepper linear #stepper><!-- Layout - Stepper -->
            <mat-step [stepControl]="firstFormGroup">
              <form [formGroup]="firstFormGroup">
                <ng-template matStepLabel>Informações Básicas</ng-template>
                <div class="controles-t">
                  <input type="hidden" formControlName="$key">
                  <mat-form-field> <!-- Título //-->
                    <input matInput placeholder="Título" formControlName="titulo" required>
                  </mat-form-field> <!-- Título //-->
                  <mat-form-field> <!-- Questionário -->
                    <textarea matInput placeholder ="Questionário" formControlName="questionarios" required> </textarea>
                  </mat-form-field> <!-- Questionário --> 
                  <mat-form-field> <!-- Período -->
                    <input matInput  placeholder="Período" formControlName="periodo" required>
                  </mat-form-field> <!-- Período -->          
                  <div> <!-- Status Ativado/Terminado -->
                    <mat-slide-toggle formControlName="ativo" class="margin">Ativo</mat-slide-toggle> 
                    <mat-slide-toggle formControlName="terminado" class="margin">Terminado</mat-slide-toggle> 
                  </div>                                    
                </div>
                <div>
                  <button mat-button matStepperNext>Próximo</button>
                </div>
              </form>
            </mat-step>
            <mat-step [stepControl]="secondFormGroup">
              <form [formGroup]="secondFormGroup">
                <ng-template matStepLabel>Datas</ng-template>
                <div class="controles-t">
                  <mat-form-field> <!-- Data Ativação -->
                    <input matInput placeholder="Data Ativação" formControlName="data_ativacao" [matDatepicker]="picker1" [formControl]="date">
                    <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                    <mat-datepicker #picker1></mat-datepicker>
                  </mat-form-field> <!-- Data Ativação -->
                  <mat-form-field> <!-- Data Limite -->
                    <input matInput placeholder="Data Limite" formControlName="data_limite" [matDatepicker]="picker2" required>
                    <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                    <mat-datepicker #picker2></mat-datepicker>
                  </mat-form-field>  <!-- Data Limite -->          
                  <mat-form-field> <!-- Observação -->
                    <textarea matInput placeholder ="Observações" formControlName="observacao" required> </textarea>
                  </mat-form-field> <!-- Observação -->
                </div>
                <div>
                  <button mat-button matStepperPrevious>Voltar</button>
                  <button mat-button matStepperNext>Próximo</button>
                </div>
              </form>
            </mat-step>
            <mat-step [stepControl]="thirdFormGroup">
                <form [formGroup]="thirdFormGroup">
                  <ng-template matStepLabel>Público Alvo</ng-template>
                  <div class="controles-t">
                      <mat-accordion> <!-- Público Alvo -->
                        <mat-expansion-panel [expanded]="step === 0" hideToggle>
                          <mat-expansion-panel-header>
                            <mat-panel-title>
                              Público Alvo *
                            </mat-panel-title>
                            <mat-panel-description>
                              Público(s) escolhido: {{publicos.selectedOptions.selected.length}}
                            </mat-panel-description>
                          </mat-expansion-panel-header>
                
                          <mat-selection-list matInput #publicos formControlName="publico_alvo">
                            <mat-list-option *ngFor="let publico of tipoPublicos" [value]="publico.value">
                              {{publico.viewValue}}
                            </mat-list-option>
                          </mat-selection-list>
                        </mat-expansion-panel>
                      </mat-accordion> <!-- Público Alvo -->
                  </div>
                  <div>
                    <button mat-button matStepperPrevious>Voltar</button>
                    <button mat-button matStepperNext>Próximo</button>
                  </div>
                </form>
              </mat-step>
            <mat-step>
              <ng-template matStepLabel>Concluir</ng-template>
              Deseja concluir?
              <div class="padding4">
                <button mat-button type="submit" (click)="onSubmit()">Salvar</button>
                <button mat-button matStepperPrevious>Voltar</button>
                <button mat-button (click)="stepper.reset()">Cancelar</button>
              </div>
            </mat-step>
          </mat-horizontal-stepper> <!-- Layout - Stepper -->          
        </div>
        </mat-grid-tile>
      </mat-grid-list> <!-- Layout - Grid List -->
    <!--</form> -->
</mat-card> <!-- Layout - Card -->





<!--
<mat-card class="cardprincipal">
  <form [formGroup]="service.form" class="normal-form"> 
    <mat-grid-list cols="2" rowHeight="300px">
      <mat-grid-tile>
        <div class="controles-container">
            <input type="hidden" formControlName="$key">
            <mat-form-field> <!-- Título 
              <input formControlName="titulo" matInput placeholder="Título*">
              <mat-error *ngIf="service.form.controls['titulo'].errors?.required">Este campo é obrigatório.</mat-error>
              <mat-error *ngIf="service.form.controls['titulo'].errors?.maxlength">Máximo 150 caractere permitido.</mat-error>
            </mat-form-field>
            <mat-form-field> <!-- Questionário 
              <textarea formControlName="questionarios" matInput placeholder ="Questionário"> </textarea>            
            </mat-form-field>
            <mat-form-field> <!-- Período
              <input formControlName="periodo" matInput placeholder="Período*">
              <mat-error *ngIf="service.form.controls['periodo'].errors?.required">Este campo é obrigatório.</mat-error>
              <mat-error *ngIf="service.form.controls['periodo'].errors?.maxlength">Máximo 1 caractere permitido.</mat-error>
            </mat-form-field>
            <div class="slide-toggle-padding"> <!-- Status Ativado 
              <mat-slide-toggle formControlName="ativo">Ativo?</mat-slide-toggle> 
            </div> 
            <div class="slide-toggle-padding"> <!-- Status Terminado 
              <mat-slide-toggle formControlName="terminado">Terminado?</mat-slide-toggle> 
            </div>         
        </div>
      </mat-grid-tile> 
      <mat-grid-tile>
        <div class="controles-container">
            <mat-form-field> <!-- Data Ativação 
              <input formControlName="data_ativacao" matInput [matDatepicker]="picker1" placeholder="Data Ativação" [formControl]="date">
              <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
              <mat-datepicker #picker1></mat-datepicker>
            </mat-form-field>
            <mat-form-field> <!-- Data Limite 
              <input formControlName="data_limite" matInput [matDatepicker]="picker2" placeholder="Data Limite">
              <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
              <mat-datepicker #picker2></mat-datepicker>
            </mat-form-field>            
            <mat-form-field> <!-- Observação 
              <textarea matInput formControlName="observacao" placeholder ="Observações"> </textarea>
            </mat-form-field>
        </div>
      </mat-grid-tile>
    </mat-grid-list>

    <mat-accordion> <!-- Público Alvo 
        <mat-expansion-panel (opened)="panelOpenState = true"
                              (closed)="panelOpenState = false">
          <mat-expansion-panel-header>
            <mat-panel-title>
              Público Alvo
            </mat-panel-title>
            <mat-panel-description>
              Público(s) escolhido: {{publicos.selectedOptions.selected.length}}
            </mat-panel-description>
          </mat-expansion-panel-header>

          <mat-selection-list #publicos formControlName="publico_alvo">
            <mat-list-option *ngFor="let publico of tipoPublicos" [value]="publico.value">
              {{publico.viewValue}}
            </mat-list-option>
          </mat-selection-list>
        </mat-expansion-panel>
    </mat-accordion>

    <mat-grid-list cols="1" rowHeight="80px">
      <mat-grid-tile> <!-- Botão 
          <div>
            <button mat-fab color="primary" [disabled]="service.form.invalid">Salvar</button>
          </div>
        </mat-grid-tile>
    </mat-grid-list>
  </form>
</mat-card>-->



<!--
-----------------------------------------------------------------------------

var mongoose = require('mongoose');
var Schema   = mongoose.Schema;
var Questionario = require('./QuestionarioModel');

var AvaliacaoSchema = new Schema({
  'periodo' : Number,
  'questionarios' : [ Questionario.schema ],
  'ativo' : Boolean,
  'terminado' : Boolean,
  'data_ativacao' : Date,
  'data_limite' : Date,
  'public_alvo' : [ Number ],
  'titulo' : String,
  'observacao' : String,
  'participantes': [{ 
    'participante': Schema.Types.ObjectId, 'tipo_participante': Number }],
});

module.exports = mongoose.model('Avaliacao', AvaliacaoSchema);

-----------------------------------------------------------------------------

var mongoose = require('mongoose');
var Schema   = mongoose.Schema;
var Questao  = require('./QuestaoModel.js');

var QuestionarioSchema = new Schema({
  'topico' : String,
  'publico_alvo' : Number,
  'por_disciplina': Boolean,
  'tipo_resposta' : Number,
  'questoes': [ Questao.schema ],
  'possiveis_respostas': [ Schema.Types.Mixed ],
  'labels_respostas': [ String ],
});

module.exports = mongoose.model('Questionario', QuestionarioSchema);

-----------------------------------------------------------------------------

var mongoose = require('mongoose');
var Schema   = mongoose.Schema;

var QuestaoSchema = new Schema({
  'pergunta' : String,
});

module.exports = mongoose.model('Questao', QuestaoSchema);

-->